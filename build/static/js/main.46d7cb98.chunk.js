(this.webpackJsonpagileengine=this.webpackJsonpagileengine||[]).push([[0],{24:function(e,t,n){e.exports=n(59)},29:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),u=(n(29),n(2)),i=n.n(u),s=n(3),l=n(4),m=n(9),d=Object(a.createContext)({userContext:{user:{}}}),p=n(21),f=n(22),v=n.n(f);function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}var E=function(e){return Array.isArray(e)},h=function(e){return e===Object(e)&&!E(e)&&"function"!==typeof e},j=function e(t){if(h(t)){var n={};return Object.keys(t).forEach((function(a){var r;n[(r=a,r.toLowerCase()!==r&&r.toLowerCase(),r.replace(/_([a-z])/g,(function(e){return e.toUpperCase()})).replace(/_/g,""))]=e(t[a])})),n}return E(t)?t.map((function(t){return e(t)})):t},O="http://localhost:4000/api/v1",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get";return function(t){var n=t.path,a=void 0===n?"":n,r=t.timeout,c=void 0===r?5e3:r,o=t.additionalHeaders,u=void 0===o?{}:o;return Object(s.a)(i.a.mark((function t(){var n,r,o,s,l,m,d,f,b,E,h,_=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(E in n=_.length>0&&void 0!==_[0]?_[0]:{},r=n.params,o=void 0===r?{}:r,s=n.query,l=void 0===s?{}:s,m=n.data,d=void 0===m?{}:m,f=Object(p.a)({},u),b=a,o)b=b.replace(E,o[E]);return t.prev=5,t.next=8,v()({url:b,baseURL:O,params:l,method:e,timeout:c,headers:f,data:d});case 8:return h=t.sent,t.abrupt("return",(null===h||void 0===h?void 0:h.data)&&j(null===h||void 0===h?void 0:h.data));case 12:return t.prev=12,t.t0=t.catch(5),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))}},N={get:_(),post:_("post"),put:_("put"),remove:_("delete")},g={create:N.post({path:"/users/"}),get:N.get({path:"/users/:id"})},x=function(e){var t=e.children,n=(Object(m.a)(e,["children"]),Object(a.useState)({})),c=Object(l.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get({});case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(d.Provider,{value:{userContext:{user:o}}},r.a.Children.only(t))},C=Object(a.createContext)({userContext:{component:null,showModal:function(){},hideModal:function(){}}}),w=n(6),y=n(5),k=n(7),M=n.n(k),S=(n(48),function(e){var t=e.className,n=e.children;return r.a.createElement("p",{className:M()("app-text",Object(y.a)({},t,!!t))},n)}),A=(n(49),function(e){var t=e.children,n=Object(m.a)(e,["children"]);return r.a.createElement("button",Object(w.a)({className:"app-button"},n),r.a.createElement(S,null,t))}),D=(n(50),function(e){var t=e.component,n=(e.open,e.hideModal);Object(m.a)(e,["component","open","hideModal"]);return r.a.createElement("div",{className:"app-modal"},r.a.createElement("div",{className:"app-modal__container"},r.a.createElement("div",{className:"app-modal__content"},t),r.a.createElement(A,{onClick:n},"Close")))}),I=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(l.a)(n,2),o=c[0],u=c[1],i=function(){u(null)};return r.a.createElement(C.Provider,{value:{modalContext:{component:o,showModal:function(e){u(e)},hideModal:i}}},t,o?r.a.createElement(D,{component:o,hideModal:i}):null)},L=n(8);n(51);var U=function(e){var t=e.firstName,n=e.lastName,a=e.amount;return r.a.createElement("div",{className:"app-transactions-user"},r.a.createElement(S,{className:"app-transactions-user__name"},"Hello, ",t," ",n),r.a.createElement(S,{className:"app-transactions-user__amount"},"Account Ballance $",a))};function $(e){return function(t){return r.a.createElement(d.Consumer,null,(function(n){return r.a.createElement(e,Object(w.a)({},t,n))}))}}var q={create:N.post({path:"/transactions/"}),get:N.get({path:"/transactions/:id"}),list:N.get({path:"/transactions/"})},B=(n(52),"app-transactions-list-item-details");var H=Object(L.a)($)((function(e){var t,n=e.id,c=e.userContext.user,o=Object(a.useState)(null),u=Object(l.a)(o,2),m=u[0],d=u[1];Object(a.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get({params:{":id":n}});case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=null===m||void 0===m?void 0:m.type,f=(null===m||void 0===m?void 0:m.effectiveDate)?new Date(1e3*(null===m||void 0===m?void 0:m.effectiveDate)):"-";return r.a.createElement("div",{className:B},null!=m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{className:"".concat(B,"__date")},"".concat(f)),r.a.createElement(S,{className:M()("".concat(B,"__type"),(t={},Object(y.a)(t,"".concat(B,"__debit"),"debit"==p),Object(y.a)(t,"".concat(B,"__credit"),"credit"==p),t))},b(p)),r.a.createElement(S,{className:"".concat(B,"__amount")},"$",null===m||void 0===m?void 0:m.amount),r.a.createElement(S,{className:"".concat(B,"__author")},c.firstName," ",c.lastName)))}));n(55);var J=Object(L.a)((function(e){return function(t){return r.a.createElement(C.Consumer,null,(function(n){return r.a.createElement(e,Object(w.a)({},t,n))}))}}))((function(e){var t=e.id,n=e.type,a=e.amount,c=(e.effectiveDate,e.modalContext.showModal);return r.a.createElement("div",{className:"app-transactions-list-item",onClick:function(){c(r.a.createElement(H,{id:t}))}},r.a.createElement(S,{className:M()({"app-transactions-list-item__debit":"debit"==n,"app-transactions-list-item__credit":"credit"==n})},b(n)),r.a.createElement(S,null,"$",a))}));n(56);var P=function(e){var t=e.userId,n=Object(a.useState)([]),c=Object(l.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.list({query:{userId:t}});case 2:n=e.sent,u(null===n||void 0===n?void 0:n.transactions);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"app-transactions-list"},r.a.createElement(S,{className:"app-transactions-list__header"},"Transactions"),o.map((function(e){return r.a.createElement(J,e)})))};n(57);var z=Object(L.a)($)((function(e){var t=e.userContext.user;return r.a.createElement("div",{className:"app-transactions"},r.a.createElement(U,t),r.a.createElement(P,{userId:null===t||void 0===t?void 0:t.id}))}));n(58);var F=function(){return r.a.createElement(x,null,r.a.createElement(I,null,r.a.createElement(z,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.46d7cb98.chunk.js.map